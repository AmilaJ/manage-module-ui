{"version":3,"sources":["/home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/applications/applications.component.html","/home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/applications/applications.component.scss","/home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/applications/applications.component.ts","/home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/approval-main/approval-main.component.scss","/home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/approval-main/approval-main.component.ts","/home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/approval.routes.ts","/home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/approvals.module.ts","/home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/subscriptions/subscriptions.component.html","/home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/subscriptions/subscriptions.component.scss","/home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/subscriptions/subscriptions.component.ts"],"names":[],"mappings":"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","file":"5.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"animated fadeInUp row pad-r-15-im\\\">\\n    <div class=\\\"col-sm-6\\\">\\n        <application-data-table\\n                class=\\\"my\\\"\\n                [filter]=\\\"userApplicationFilter\\\"\\n                tableTitle=\\\"MY APPLICATIONS\\\"\\n                [isSubscription]=\\\"false\\\"\\n                [dataSource]=\\\"myApplications\\\"\\n                [creditPlan]=\\\"creditPlan\\\"\\n                (onApproveRejectTask)=\\\"onApproveRejectHandler($event)\\\"\\n                (onFilterChange)=\\\"onFilterChangeHandler($event)\\\"></application-data-table>\\n    </div>\\n    <div class=\\\"col-sm-6\\\">\\n        <application-data-table\\n                class=\\\"group\\\"\\n                [filter]=\\\"groupApplicationFilter\\\"\\n                [isSubscription]=\\\"false\\\"\\n                tableTitle=\\\"All APPLICATIONS\\\"\\n                [dataSource]=\\\"allApplications\\\"\\n                [creditPlan]=\\\"creditPlan\\\"\\n                [isApplicationOnly]=\\\"true\\\"\\n                (onAssignTask)=\\\"onAssignTaskHandler($event)\\\"\\n                (onFilterChange)=\\\"onFilterChangeHandler($event)\\\"></application-data-table>\\n    </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/applications/applications.component.html\n// module id = ../../../../../src/app/approvals/applications/applications.component.html\n// module chunks = 5","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"application-data-table {\\n  margin-top: 20px; }\\n\\n:host /deep/ application-data-table.my .tbl-header {\\n  color: #E19131;\\n  font-weight: 900; }\\n\\n:host /deep/ application-data-table.my .header {\\n  background-color: #E19131 !important; }\\n\\n.comment {\\n  padding-top: 5px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/applications/applications.component.scss\n// module id = ../../../../../src/app/approvals/applications/applications.component.scss\n// module chunks = 5","import {Component, OnInit} from '@angular/core';\nimport {\n    ApplicationTask, ApprovalEvent, ApplicationTaskFilter,\n    ApplicationTaskResult, PaginationInfo\n} from \"../../commons/models/application-data-models\";\nimport {ApprovalRemoteDataService} from \"../../data-providers/approval-remote-data.service\";\nimport {MessageService} from \"../../commons/services/message.service\";\nimport {ApprovalHelperService} from \"../approval-helper.service\";\nimport {TableDataType} from \"../../commons/models/common-data-models\";\n\n@Component({\n    selector: 'app-applications',\n    templateUrl: './applications.component.html',\n    styleUrls: ['./applications.component.scss']\n})\nexport class ApplicationsComponent implements OnInit {\n\n    private myApplications: ApplicationTaskResult;\n\n    private allApplications: ApplicationTaskResult;\n\n    private userApplicationFilter: ApplicationTaskFilter;\n\n    private groupApplicationFilter: ApplicationTaskFilter;\n\n    private creditPlan: string[];\n\n    constructor(private message: MessageService,\n                private approvalHelperService: ApprovalHelperService,\n                private approvalService: ApprovalRemoteDataService) {\n    }\n\n    ngOnInit() {\n        this.userApplicationFilter = new ApplicationTaskFilter(new TableDataType('USER', 'APPLICATION'), 10);\n\n        this.groupApplicationFilter = new ApplicationTaskFilter(new TableDataType('GROUP', 'APPLICATION'), 10);\n\n        this.approvalService.MyApplicationCreationTasksProvider.subscribe(\n            (apps: ApplicationTaskResult) => {\n                this.myApplications = apps;\n            },\n            (error) => {\n                this.message.error(error);\n            }\n        );\n\n        this.approvalService.GroupApplicationCreationTasksProvider.subscribe(\n            (apps: ApplicationTaskResult) => {\n                this.allApplications = apps;\n            },\n            (error) => {\n                this.message.error(error)\n            }\n        );\n\n        this.creditPlan = [];\n\n        this.getData();\n        this.getCreditPlan();\n    }\n\n    private getData() {\n        this.approvalService.getFilteredResult(this.userApplicationFilter);\n        this.approvalService.getUserGroupApplicationTasks(this.groupApplicationFilter);\n    }\n\n    private getCreditPlan() {\n        this.approvalService.getCreditPlan()\n            .subscribe(\n                data => {\n                    this.creditPlan = [];\n                    const response = data.Success.text;\n                    let count = 0;\n                    for(const item of response){\n                        this.creditPlan[count] = item.code;\n                        count++;\n                    }\n                },\n                error => {\n                    this.creditPlan = [];\n                    this.message.error(error.message);\n                }\n            );\n    }\n\n    onAssignTaskHandler(event: ApprovalEvent): void {\n        this.approvalHelperService.assignApplicationTask(event.dataType.dataType, event.task.id, () => {\n            this.getData();\n        });\n    }\n\n    onApproveRejectHandler(event: ApprovalEvent): void {\n        this.approvalHelperService.approveRejectTask(event.dataType, event.task, event.status);\n    }\n\n    onFilterChangeHandler(event: ApplicationTaskFilter): void {\n        this.approvalService.getFilteredResult(event);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/applications/applications.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/approval-main/approval-main.component.scss\n// module id = ../../../../../src/app/approvals/approval-main/approval-main.component.scss\n// module chunks = 5","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-approval-main',\n  template: `<router-outlet></router-outlet>`,\n  styleUrls: ['./approval-main.component.scss']\n})\nexport class ApprovalMainComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/approval-main/approval-main.component.ts","import {RouterModule} from \"@angular/router\";\nimport {ApplicationsComponent} from \"./applications/applications.component\";\nimport {SubscriptionsComponent} from \"./subscriptions/subscriptions.component\";\nimport {ApprovalMainComponent} from \"./approval-main/approval-main.component\";\n\nconst routes = [\n  {\n    path : '',\n    component : ApprovalMainComponent\n  },\n  {\n    path : 'applications',\n    component : ApplicationsComponent\n  },\n  {\n    path : 'subscriptions',\n    component : SubscriptionsComponent\n  }\n];\n\n\nexport const ApprovalRoutes = RouterModule.forChild(routes);\n\n\n\n// WEBPACK FOOTER //\n// /home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/approval.routes.ts","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ApplicationsComponent} from './applications/applications.component';\nimport {SubscriptionsComponent} from './subscriptions/subscriptions.component';\nimport {ApprovalRoutes} from \"./approval.routes\";\nimport {ApprovalMainComponent} from './approval-main/approval-main.component';\nimport {ApplicationDataTableComponent} from \"../commons/components/application-data-table/application-data-table.component\";\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        ApprovalRoutes,\n        SharedModule\n    ],\n    declarations: [ApplicationsComponent, SubscriptionsComponent, ApprovalMainComponent]\n})\nexport class ApprovalsModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/approvals.module.ts","module.exports = \"<div class=\\\"animated fadeInUp\\\">\\n <div class=\\\"row\\\">\\n   <div class=\\\"col-sm-6\\\">\\n       <application-data-table\\n               class=\\\"my\\\"\\n               [filter]=\\\"mySubscriptionFilter\\\"\\n               tableTitle=\\\"SUBSCRIPTION CREATIONS\\\"\\n               [dataSource]=\\\"mySubscriptions\\\"\\n               [isSubscription]=\\\"true\\\"\\n               (onApproveRejectTask)=\\\"onApproveRejectHandler($event)\\\"\\n               (onFilterChange)=\\\"onFilterChangeHandler($event)\\\"></application-data-table>\\n   </div>\\n   <div class=\\\"col-sm-6\\\">\\n       <application-data-table\\n               class=\\\"group\\\"\\n               [filter]=\\\"groupSubscriptionFilter\\\"\\n               tableTitle=\\\"SUBSCRIPTION CREATIONS\\\"\\n               [isSubscription]=\\\"true\\\"\\n               [isSubscriptionOnly]=\\\"true\\\"\\n               [dataSource]=\\\"allSubscriptions\\\"\\n               (onAssignTask)=\\\"onAssignTaskHandler($event)\\\"\\n               (onFilterChange)=\\\"onFilterChangeHandler($event)\\\"></application-data-table>\\n   </div>\\n </div>\\n</div>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/subscriptions/subscriptions.component.html\n// module id = ../../../../../src/app/approvals/subscriptions/subscriptions.component.html\n// module chunks = 5","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"application-data-table {\\n  margin-top: 20px; }\\n\\n:host /deep/ application-data-table.my .tbl-header {\\n  color: #E19131;\\n  font-weight: 900; }\\n\\n:host /deep/ application-data-table.my .header {\\n  background-color: #E19131 !important; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/subscriptions/subscriptions.component.scss\n// module id = ../../../../../src/app/approvals/subscriptions/subscriptions.component.scss\n// module chunks = 5","import {Component, OnInit} from '@angular/core';\nimport {\n    ApplicationTask, ApprovalEvent, ApplicationTaskFilter,\n    ApplicationTaskResult, RelevantRates\n} from '../../commons/models/application-data-models';\nimport {ApprovalRemoteDataService} from '../../data-providers/approval-remote-data.service';\nimport {MessageService} from '../../commons/services/message.service';\nimport {ApprovalHelperService} from '../approval-helper.service';\nimport {TableDataType} from '../../commons/models/common-data-models';\n\n@Component({\n    selector: 'app-subscriptions',\n    templateUrl: './subscriptions.component.html',\n    styleUrls: ['./subscriptions.component.scss']\n})\nexport class SubscriptionsComponent implements OnInit {\n\n    private mySubscriptions: ApplicationTaskResult;\n    private allSubscriptions: ApplicationTaskResult;\n\n    private mySubscriptionFilter: ApplicationTaskFilter;\n    private groupSubscriptionFilter: ApplicationTaskFilter;\n\n    constructor(private message: MessageService,\n                private approvalHelperService: ApprovalHelperService,\n                private approvalService: ApprovalRemoteDataService) {\n    }\n\n    ngOnInit() {\n\n        this.mySubscriptionFilter = new ApplicationTaskFilter(new TableDataType('USER', 'SUBSCRIPTION'), 10);\n\n        this.groupSubscriptionFilter = new ApplicationTaskFilter(new TableDataType('GROUP', 'SUBSCRIPTION'), 10);\n\n        this.approvalService.MySubscriptionTasksProvider.subscribe(\n            (subs: ApplicationTaskResult) => {\n                this.mySubscriptions = subs;\n                if(this.mySubscriptions != null){\n                    this.setDefaultOperationRates();\n                }\n            },\n            (error) => {\n                this.message.error(error);\n            }\n        );\n\n        this.approvalService.GroupSubscriptionTasksProvider.subscribe(\n            (subs: ApplicationTaskResult) => {\n                this.allSubscriptions = subs;\n                if(this.allSubscriptions != null){\n                    this.setDefaultAllOperationRates();\n                }\n            },\n            (error) => {\n                this.message.error(error);\n            }\n        );\n\n        this.getData();\n\n\n\n\n    }\n\n    setDefaultOperationRates() {\n        if(this.mySubscriptions != null){\n            let count = 0;\n            for(const entry of this.mySubscriptions.applicationTasks){\n                let selectedRate = '';\n                for(const entry2 of entry.relevantRates){\n                    if(entry2.rateDefinitions.length > 0){\n                        let id = entry2.rateDefinitions[0].rateDefId;\n\n                        if(selectedRate.length == 0){\n                            selectedRate += id;\n                        }else{\n                            selectedRate += '-' + id;\n                        }\n                    }\n                }\n                this.mySubscriptions.applicationTasks[count].selectedRate = selectedRate;\n                count++;\n            }\n        }\n\n\n    }\n\n    setDefaultAllOperationRates() {\n\n        if(this.allSubscriptions != null){\n            let count = 0;\n            for(const entry of this.allSubscriptions.applicationTasks){\n                let selectedRate = '';\n                for(const entry2 of entry.relevantRates){\n                    if(entry2.rateDefinitions.length > 0){\n                        let id= entry2.rateDefinitions[0].rateDefId;\n\n                        if(selectedRate.length == 0){\n                            selectedRate += id;\n                        }else{\n                            selectedRate += '-' + id;\n                        }\n                    }\n\n                }\n                this.allSubscriptions.applicationTasks[count].selectedRate = selectedRate;\n                count++;\n            }\n        }\n\n\n    }\n\n    private getData() {\n        this.approvalService.getUserAppSubscriptionTasks(this.mySubscriptionFilter);\n        this.approvalService.getUserGroupAppSubscriptionTask(this.groupSubscriptionFilter);\n    }\n\n    onAssignTaskHandler(event: ApprovalEvent): void {\n        this.approvalHelperService.assignApplicationTask(event.dataType.dataType, event.task.id, () => {\n            this.getData();\n        });\n    }\n\n    onApproveRejectHandler(event: ApprovalEvent): void {\n        this.approvalHelperService.approveRejectTask(event.dataType, event.task, event.status);\n    }\n\n    onFilterChangeHandler(event: ApplicationTaskFilter): void {\n        this.approvalService.getFilteredResult(event);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/manoj/WSO2TelcoProjects/WSO2Telco4/manage-module-ui/angular_ui/src/app/approvals/subscriptions/subscriptions.component.ts"],"sourceRoot":"webpack:///"}